<html>
<head>
<script src="cookies.js" type="text/javascript"></script>
<script type = "text/javascript">
// Note: Like all Javascript password scripts, this is hopelessly insecure as the user can see 
//the valid usernames/passwords and the redirect url simply with View Source.  
// And the user can obtain another three tries simply by refreshing the page.  
//So do not use for anything serious!

var count = 2;
function validate() {
var un = document.loginForm.username.value;
var pw = document.loginForm.pword.value;
var valid = false;

var unArray = ["1001", "1002", "1003", "Michael"];  // as many as you like - no comma after final entry
var pwArray = ["abc", "abc", "abc", "abc"];  // the corresponding passwords;

for (var i=0; i <unArray.length; i++) {
if ((un == unArray[i]) && (pw == pwArray[i])) {
valid = true;
break;
}
}

if (valid) {
//alert ("Login was successful");
checkCookie(un);
window.location = "http://localhost/sehr/vizEHR.html?"+escape(un);
return false;
}

var t = " tries";
if (count == 1) {t = " try"}

if (count >= 1) {
alert ("Invalid username and/or password.  You have " + count + t + " left.");
document.loginForm.username.value = "";
document.loginForm.pword.value = "";
setTimeout("document.loginForm.username.focus()", 25);
setTimeout("document.loginForm.username.select()", 25);
count --;
}

else {
alert ("Still incorrect! You have no more tries left!");
document.loginForm.username.value = "No more tries allowed!";
document.loginForm.pword.value = "";
document.loginForm.username.disabled = true;
document.loginForm.pword.disabled = true;
return false;
}
}
</script>
</head>
<body style="font-family: Arial;border: 0 none;">
<center>
<form name='loginForm'>
<p>Username  <input TYPE='text' NAME='username' SIZE=15><br><br>
<p>Password  <input TYPE='password' NAME='pword' SIZE=15 ><br><br>
<input type="button" value="Sign In" name="Submit" onclick= "validate()">
</p>

</form>
</center>
</body>
</html>
